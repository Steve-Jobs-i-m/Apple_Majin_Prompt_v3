# KPI表示スライド要件定義

## 目的
大型の数値やKPI（重要業績評価指標）を視覚的にインパクトのある形で表示します。バッテリー寿命やユーザー数などの強調したい指標に最適です。

## 対応画像
- **参照画像**: `Apple_like_template/Apple_like_template.006.jpeg`
- **画像説明**: 黒背景に巨大なバッテリーアイコン、グレーのアウトライン、ネオングリーンの内側、黒文字で「24 hours」

## 既存スライド型
- **type**: `kpi`
- **実装関数**: `createKpiSlide()` (`src/slides.js`)

## レイアウト仕様
- **スライド比率**: 16:9 (960 × 540pt 基準)
- **背景**: ブラック (`#000000`)
- **中央配置エリア**:
  - 幅: 600pt～700pt
  - 高さ: 400pt～450pt
  - 中央揃え（水平・垂直）
- **KPIグリッド**:
  - 1～4個のKPIを配置
  - 配置: グリッド（1列、2列、または2x2）
  - アイテム間隔: 32pt

## タイポグラフィ
- **KPI数値**:
  - サイズ: 72pt～120pt
  - ウェイト: 700～900 (Bold～Black)
  - カラー: `#FFFFFF` または `#000000`（背景による）
  - 配置: CENTER
- **KPIラベル**:
  - サイズ: 24pt～32pt
  - ウェイト: 600 (Semi-bold)
  - カラー: `#E0E0E0`
  - 配置: CENTER
- **補足説明**:
  - サイズ: 16pt～20pt
  - ウェイト: 400 (Regular)
  - カラー: `#9E9E9E`
  - 配置: CENTER

## カラーパレット
- **背景色**: `#000000`
- **アイコン/グラフィック外側**: `#757575` (Medium Gray)
- **アイコン/グラフィック内側**: `#00FF00` (Neon Green), `#4285F4` (Primary), または状態による
- **KPI数値（明るい背景上）**: `#000000`
- **KPI数値（暗い背景上）**: `#FFFFFF`
- **ラベル**: `#E0E0E0`
- **補足**: `#9E9E9E`

## ビジュアル要素
- **大型アイコン/グラフィック**:
  - バッテリー、円グラフ、ゲージなど
  - サイズ: 240pt～360pt（スライドの中心を占める）
  - スタイル: シンプルなアウトライン + 塗りつぶし
  - 角丸: 適度な丸み（例: 24pt）
- **バッテリーアイコン例**:
  - グレーのアウトライン: 4pt stroke
  - 内側の塗りつぶし: ネオングリーン
  - 右側の突起: 小さな矩形
  - 中央にKPI数値を配置
- **円形ゲージ例**:
  - 背景円: グレー
  - 前景円弧: プライマリカラー
  - 中央にKPI数値とラベル
- **マルチKPI表示**:
  - 2x2グリッドで4つのKPIを配置
  - 各KPIは小さめのアイコン + 数値 + ラベル

## 実装メモ

### 既存コードとの整合性
- `createKpiSlide()` を使用
- `data.kpis` 配列で各KPIのデータを定義
- `data.layout` で表示パターンを指定（single, grid）

### 実装時の注意点
1. 単一KPIの場合は大きく中央配置
2. 複数KPIの場合はグリッドに配置（2個なら横並び、3～4個なら2x2）
3. アイコンはオプション（なければ数値とラベルのみ）
4. 数値のフォーマット（カンマ区切り、単位など）を適切に処理
5. 大きな数値は "1.5M", "24K" などの省略形も検討

### レイアウトマネージャー連携
```javascript
const gridArea = layout.getRect('kpiSlide.gridArea');
```

## データスキーマ例

### 単一KPI（バッテリー寿命）
```json
{
  "type": "kpi",
  "layout": "single",
  "kpis": [
    {
      "value": "24 hours",
      "label": "Battery Life",
      "icon": "battery",
      "iconColor": "#00FF00",
      "description": "Up to 24 hours of wireless web browsing"
    }
  ],
  "notes": "MacBook Pro のバッテリー寿命を強調表示。ネオングリーンのバッテリーアイコンで視覚的インパクトを与えます。"
}
```

### 複数KPI（4つのメトリクス）
```json
{
  "type": "kpi",
  "layout": "grid",
  "kpis": [
    {
      "value": "2.5M",
      "label": "Active Users",
      "icon": "users",
      "growth": "+25%"
    },
    {
      "value": "98%",
      "label": "Satisfaction",
      "icon": "star",
      "iconColor": "#FFD700"
    },
    {
      "value": "150+",
      "label": "Countries",
      "icon": "globe"
    },
    {
      "value": "$12M",
      "label": "Revenue",
      "icon": "currency",
      "growth": "+40%"
    }
  ],
  "notes": "主要な業績指標を4つのKPIで表示。グリッドレイアウトでバランスよく配置しています。"
}
```

### 円形ゲージ型
```json
{
  "type": "kpi",
  "layout": "gauge",
  "kpis": [
    {
      "value": "87%",
      "label": "Project Completion",
      "max": 100,
      "current": 87,
      "gaugeColor": "#4285F4"
    }
  ]
}
```

## 参考実装
- **既存実装**: `src/slides.js` - `createKpiSlide()`
- **レイアウト定義**: `src/layoutManager.js` - `kpiSlide` 定義
- **図形描画**: バッテリー、ゲージなどのグラフィック要素

## バリエーション検討
1. **アニメーション**: 数値のカウントアップ効果（実装外）
2. **トレンド表示**: 前期比の増減を矢印で表示
3. **ミニチャート**: KPIの下に小さな折れ線グラフ
4. **カラーコーディング**: 目標達成度に応じた色分け（緑/黄/赤）

## アクセシビリティ
- **大型表示**: 数値は非常に大きく、遠くからでも視認可能
- **単純なレイアウト**: 1つのスライドで1～4つのKPIに絞る
- **カラーに依存しない**: 数値とラベルで意味が理解できる
- **コントラスト**: 背景と数値のコントラスト比を十分に確保
